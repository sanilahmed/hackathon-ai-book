@startuml ROS 2 Bridge Configuration

!theme plain

title Gazebo-ROS 2 and Unity-ROS 2 Bridge Configuration

actor "ROS 2 Nodes" as ros_nodes #LightCyan
component "Robot State Publisher" as rsp #LightBlue
component "Joint State Publisher" as jsp #LightBlue
component "TF Broadcaster" as tfb #LightBlue

package "Gazebo-ROS Bridge" {
  component "gz_to_ros" as gz_bridge #LightYellow
  component "Clock Sync" as clock_gz #LightYellow
  component "Sensor Bridge" as sensor_gz #LightYellow
  component "Actuator Bridge" as actuator_gz #LightYellow
}

package "Unity-ROS Bridge" {
  component "unity_to_ros" as unity_bridge #LightGreen
  component "Clock Sync" as clock_unity #LightGreen
  component "Sensor Bridge" as sensor_unity #LightGreen
  component "Actuator Bridge" as actuator_unity #LightGreen
}

package "Simulation Environments" {
  component "Gazebo Physics" as gazebo #LightBlue
  component "Unity Engine" as unity_engine #LightGreen
}

ros_nodes --> rsp : "/joint_states"
ros_nodes --> jsp : "/joint_states"
ros_nodes --> tfb : "/tf, /tf_static"

rsp --> gz_bridge : "publishes joint states"
jsp --> gz_bridge : "publishes joint data"
tfb --> gz_bridge : "publishes transforms"

gz_bridge --> gazebo : "receives joint commands"
sensor_gz --> gazebo : "sensor data"
actuator_gz --> gazebo : "actuator commands"
clock_gz --> gazebo : "time sync"

unity_bridge --> unity_engine : "sends/receives data"
sensor_unity --> unity_engine : "sensor data"
actuator_unity --> unity_engine : "actuator commands"
clock_unity --> unity_engine : "time sync"

note right of gz_bridge : "Bridges Gazebo topics\n- /clock\n- /joint_states\n- /scan\n- /imu\n- /camera/image"
note right of unity_bridge : "Bridges Unity topics\n- /clock\n- /joint_states\n- /scan\n- /imu\n- /camera/image"

@enduml