"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[45],{4559:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>m});var r=i(4848),o=i(8453);const a={},l="Lab 2.2: Robot Model Creation and Integration",t={id:"modules/lab-exercises/lab-2-2-robot-model-integration",title:"Lab 2.2: Robot Model Creation and Integration",description:"Overview",source:"@site/docs/modules/lab-exercises/lab-2-2-robot-model-integration.md",sourceDirName:"modules/lab-exercises",slug:"/modules/lab-exercises/lab-2-2-robot-model-integration",permalink:"/hackathon-ai-book/modules/lab-exercises/lab-2-2-robot-model-integration",draft:!1,unlisted:!1,editUrl:"https://github.com/sanilahmed/hackathon-ai-book/tree/main/docs/modules/lab-exercises/lab-2-2-robot-model-integration.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lab 2.1: Gazebo Simulation Environment Setup",permalink:"/hackathon-ai-book/modules/lab-exercises/lab-2-1-gazebo-setup"},next:{title:"Lab 2.3: Unity Robotics Integration",permalink:"/hackathon-ai-book/modules/lab-exercises/lab-2-3-unity-robotics-integration"}},s={},m=[{value:"Overview",id:"overview",level:2},{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Duration",id:"duration",level:2},{value:"Exercise 1: Creating a URDF Robot Model",id:"exercise-1-creating-a-urdf-robot-model",level:2},{value:"Step 1: Create a URDF package structure",id:"step-1-create-a-urdf-package-structure",level:3},{value:"Step 2: Create URDF directory structure",id:"step-2-create-urdf-directory-structure",level:3},{value:"Step 3: Create a simple wheeled robot in URDF",id:"step-3-create-a-simple-wheeled-robot-in-urdf",level:3},{value:"Exercise 2: Using Xacro for Complex Robot Models",id:"exercise-2-using-xacro-for-complex-robot-models",level:2},{value:"Step 1: Create a Xacro version of the robot",id:"step-1-create-a-xacro-version-of-the-robot",level:3},{value:"Step 2: Create a launch file to display the robot",id:"step-2-create-a-launch-file-to-display-the-robot",level:3},{value:"Step 3: Create RViz configuration",id:"step-3-create-rviz-configuration",level:3},{value:"Exercise 3: Create a Humanoid Robot Model",id:"exercise-3-create-a-humanoid-robot-model",level:2},{value:"Step 1: Create a complex humanoid URDF",id:"step-1-create-a-complex-humanoid-urdf",level:3},{value:"Exercise 4: Add Gazebo-Specific Elements to Robot Model",id:"exercise-4-add-gazebo-specific-elements-to-robot-model",level:2},{value:"Step 1: Create Gazebo-extended URDF",id:"step-1-create-gazebo-extended-urdf",level:3},{value:"Exercise 5: Create SDF Version of Robot Model",id:"exercise-5-create-sdf-version-of-robot-model",level:2},{value:"Step 1: Create SDF model directory",id:"step-1-create-sdf-model-directory",level:3},{value:"Step 2: Create SDF model files",id:"step-2-create-sdf-model-files",level:3},{value:"Exercise 6: Build and Test the Robot Models",id:"exercise-6-build-and-test-the-robot-models",level:2},{value:"Step 1: Update setup.py",id:"step-1-update-setuppy",level:3},{value:"Step 2: Build the package",id:"step-2-build-the-package",level:3},{value:"Step 3: Test URDF models",id:"step-3-test-urdf-models",level:3},{value:"Step 4: Test with Gazebo",id:"step-4-test-with-gazebo",level:3},{value:"Exercise 7: Model Validation and Troubleshooting",id:"exercise-7-model-validation-and-troubleshooting",level:2},{value:"Step 1: Validate URDF models",id:"step-1-validate-urdf-models",level:3},{value:"Step 2: Common validation checks",id:"step-2-common-validation-checks",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Extension Exercises",id:"extension-exercises",level:2},{value:"Summary",id:"summary",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"lab-22-robot-model-creation-and-integration",children:"Lab 2.2: Robot Model Creation and Integration"}),"\n",(0,r.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(e.p,{children:"In this lab, you will learn how to create detailed robot models using both URDF and SDF formats, integrate them with Gazebo simulation, and ensure proper physics properties and sensor configurations. You'll develop a complete humanoid robot model with joints, links, and sensors."}),"\n",(0,r.jsx)(e.h2,{id:"objectives",children:"Objectives"}),"\n",(0,r.jsx)(e.p,{children:"By the end of this lab, you will be able to:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Create detailed robot models in URDF and SDF formats"}),"\n",(0,r.jsx)(e.li,{children:"Integrate robot models with Gazebo physics simulation"}),"\n",(0,r.jsx)(e.li,{children:"Configure proper joint limits, dynamics, and collision properties"}),"\n",(0,r.jsx)(e.li,{children:"Add sensors to robot models for simulation"}),"\n",(0,r.jsx)(e.li,{children:"Validate robot models and troubleshoot common issues"}),"\n",(0,r.jsx)(e.li,{children:"Create a complete humanoid robot model with proper kinematics"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Completion of Lab 2.1: Gazebo Simulation Environment Setup"}),"\n",(0,r.jsx)(e.li,{children:"Understanding of coordinate systems and transformations"}),"\n",(0,r.jsx)(e.li,{children:"Basic knowledge of robot kinematics"}),"\n",(0,r.jsx)(e.li,{children:"Familiarity with XML/SDF file formats"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"duration",children:"Duration"}),"\n",(0,r.jsx)(e.p,{children:"4-5 hours"}),"\n",(0,r.jsx)(e.h2,{id:"exercise-1-creating-a-urdf-robot-model",children:"Exercise 1: Creating a URDF Robot Model"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-create-a-urdf-package-structure",children:"Step 1: Create a URDF package structure"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_python robot_modeling_py --dependencies rclpy xacro\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-2-create-urdf-directory-structure",children:"Step 2: Create URDF directory structure"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf\nmkdir -p ~/ros2_ws/src/robot_modeling_py/robot_modeling_py/meshes\nmkdir -p ~/ros2_ws/src/robot_modeling_py/robot_modeling_py/config\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-3-create-a-simple-wheeled-robot-in-urdf",children:"Step 3: Create a simple wheeled robot in URDF"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf/simple_robot.urdf"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.2"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 0.8"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.3 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Base footprint for ground contact --\x3e\n  <link name="base_footprint">\n    <visual>\n      <geometry>\n        <cylinder radius="0.25" length="0.01"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 0.8"/>\n      </material>\n    </visual>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting base_footprint to base_link --\x3e\n  <joint name="base_joint" type="fixed">\n    <parent link="base_footprint"/>\n    <child link="base_link"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Left wheel --\x3e\n  <link name="left_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0 0 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  <joint name="left_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="left_wheel"/>\n    <origin xyz="0.15 0.15 -0.1" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  \x3c!-- Right wheel --\x3e\n  <link name="right_wheel">\n    <visual>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0 0 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.2"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.002"/>\n    </inertial>\n  </link>\n\n  <joint name="right_wheel_joint" type="continuous">\n    <parent link="base_link"/>\n    <child link="right_wheel"/>\n    <origin xyz="0.15 -0.15 -0.1" rpy="1.5708 0 0"/>\n    <axis xyz="0 0 1"/>\n  </joint>\n\n  \x3c!-- Camera link --\x3e\n  <link name="camera_link">\n    <visual>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n      <material name="red">\n        <color rgba="1 0 0 0.8"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="camera_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="camera_link"/>\n    <origin xyz="0.2 0 0.05" rpy="0 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-2-using-xacro-for-complex-robot-models",children:"Exercise 2: Using Xacro for Complex Robot Models"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-create-a-xacro-version-of-the-robot",children:"Step 1: Create a Xacro version of the robot"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf/simple_robot.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="simple_robot_xacro">\n  \x3c!-- Properties --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="wheel_radius" value="0.1" />\n  <xacro:property name="wheel_width" value="0.05" />\n  <xacro:property name="base_length" value="0.5" />\n  <xacro:property name="base_width" value="0.3" />\n  <xacro:property name="base_height" value="0.2" />\n\n  \x3c!-- Macro for wheel --\x3e\n  <xacro:macro name="wheel" params="prefix parent xyz rpy">\n    <link name="${prefix}_wheel">\n      <visual>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n        <material name="black">\n          <color rgba="0 0 0 1"/>\n        </material>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.2"/>\n        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.002"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_wheel_joint" type="continuous">\n      <parent link="${parent}"/>\n      <child link="${prefix}_wheel"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n      <axis xyz="0 0 1"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Base footprint --\x3e\n  <link name="base_footprint">\n    <visual>\n      <geometry>\n        <cylinder radius="0.25" length="0.01"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 0.8"/>\n      </material>\n    </visual>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="${base_length} ${base_width} ${base_height}"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 0.8"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${base_length} ${base_width} ${base_height}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Base joint --\x3e\n  <joint name="base_joint" type="fixed">\n    <parent link="base_footprint"/>\n    <child link="base_link"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Wheels using macro --\x3e\n  <xacro:wheel prefix="left" parent="base_link" xyz="0.15 0.15 -0.1" rpy="${M_PI/2} 0 0"/>\n  <xacro:wheel prefix="right" parent="base_link" xyz="0.15 -0.15 -0.1" rpy="${M_PI/2} 0 0"/>\n\n  \x3c!-- Camera --\x3e\n  <link name="camera_link">\n    <visual>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n      <material name="red">\n        <color rgba="1 0 0 0.8"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.05 0.05 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="camera_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="camera_link"/>\n    <origin xyz="0.2 0 0.05" rpy="0 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"step-2-create-a-launch-file-to-display-the-robot",children:"Step 2: Create a launch file to display the robot"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/launch/display_robot.launch.py"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\n\n\ndef generate_launch_description():\n    # Declare launch arguments\n    urdf_model_path = os.path.join(\n        get_package_share_directory('robot_modeling_py'),\n        'urdf',\n        'simple_robot.xacro'\n    )\n\n    # Launch arguments\n    model_arg = DeclareLaunchArgument(\n        name='model',\n        default_value=urdf_model_path,\n        description='Absolute path to robot urdf file'\n    )\n\n    # Robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{\n            'robot_description': open(urdf_model_path).read()\n        }]\n    )\n\n    # Joint state publisher\n    joint_state_publisher = Node(\n        package='joint_state_publisher',\n        executable='joint_state_publisher',\n        name='joint_state_publisher'\n    )\n\n    # RViz node\n    rviz = Node(\n        package='rviz2',\n        executable='rviz2',\n        name='rviz2',\n        arguments=['-d', os.path.join(get_package_share_directory('robot_modeling_py'), 'config', 'robot.rviz')]\n    )\n\n    return LaunchDescription([\n        model_arg,\n        robot_state_publisher,\n        joint_state_publisher,\n        rviz\n    ])\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-3-create-rviz-configuration",children:"Step 3: Create RViz configuration"}),"\n",(0,r.jsx)(e.p,{children:"Create the config directory and file:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src/robot_modeling_py/robot_modeling_py/config\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/config/robot.rviz"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'Panels:\n  - Class: rviz_common/Displays\n    Help Height: 78\n    Name: Displays\n    Property Tree Widget:\n      Expanded:\n        - /Global Options1\n        - /Status1\n        - /RobotModel1\n      Splitter Ratio: 0.5\n    Tree Height: 617\n  - Class: rviz_common/Selection\n    Name: Selection\n  - Class: rviz_common/Tool Properties\n    Expanded:\n      - /2D Goal Pose1\n      - /Publish Point1\n    Name: Tool Properties\n    Splitter Ratio: 0.5886790156364441\n  - Class: rviz_common/Views\n    Expanded:\n      - /Current View1\n    Name: Views\n    Splitter Ratio: 0.5\nVisualization Manager:\n  Class: ""\n  Displays:\n    - Alpha: 0.5\n      Cell Size: 1\n      Class: rviz_default_plugins/Grid\n      Color: 160; 160; 164\n      Enabled: true\n      Line Style:\n        Line Width: 0.029999999329447746\n        Value: Lines\n      Name: Grid\n      Normal Cell Count: 0\n      Offset:\n        X: 0\n        Y: 0\n        Z: 0\n      Plane: XY\n      Plane Cell Count: 10\n      Reference Frame: <Fixed Frame>\n      Value: true\n    - Alpha: 1\n      Class: rviz_default_plugins/RobotModel\n      Collision Enabled: false\n      Description File: ""\n      Description Source: Topic\n      Description Topic:\n        Depth: 5\n        Durability Policy: Volatile\n        History Policy: Keep Last\n        Reliability Policy: Reliable\n        Value: /robot_description\n      Enabled: true\n      Links:\n        All Links Enabled: true\n        Expand Joint Details: false\n        Expand Link Details: false\n        Expand Tree: false\n        Link Tree Style: Links in Alphabetic Order\n      Name: RobotModel\n      TF Prefix: ""\n      Update Interval: 0\n      Value: true\n      Visual Enabled: true\n  Enabled: true\n  Global Options:\n    Background Color: 48; 48; 48\n    Fixed Frame: base_footprint\n    Frame Rate: 30\n  Name: root\n  Tools:\n    - Class: rviz_default_plugins/Interact\n      Hide Inactive Objects: true\n    - Class: rviz_default_plugins/MoveCamera\n    - Class: rviz_default_plugins/Select\n    - Class: rviz_default_plugins/FocusCamera\n    - Class: rviz_default_plugins/Measure\n    - Class: rviz_default_plugins/SetInitialPose\n    - Class: rviz_default_plugins/SetGoal\n    - Class: rviz_default_plugins/PublishPoint\n  Transformation:\n    Current:\n      Class: rviz_default_plugins/TF\n  Value: true\n  Views:\n    Current:\n      Class: rviz_default_plugins/Orbit\n      Distance: 3.0\n      Enable Stereo Rendering:\n        Stereo Eye Separation: 0.05999999865889549\n        Stereo Focal Distance: 1\n        Swap Stereo Eyes: false\n        Value: false\n      Focal Point:\n        X: 0\n        Y: 0\n        Z: 0\n      Focal Shape Fixed Size: true\n      Focal Shape Size: 0.05000000074505806\n      Invert Z Axis: false\n      Name: Current View\n      Near Clip Distance: 0.009999999776482582\n      Pitch: 0.5\n      Target Frame: <Fixed Frame>\n      Value: Orbit (rviz)\n      Yaw: 0.5\n    Saved: ~\nWindow Geometry:\n  Displays:\n    collapsed: false\n  Height: 846\n  Hide Left Dock: false\n  Hide Right Dock: false\n  QMainWindow State: 000000ff00000000fd000000040000000000000156000002f4fc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d000002f4000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa0000023a00000294fb00000014005700690064006500530074006500720065006f02000000e6000000d2000003ee0000030bfb0000000c004b0069006e0065006300740200000186000001060000030c00000261000000010000010f000002f4fc0200000003fb0000001e0054006f006f006c002000500072006f00700065007200740069006500730100000041000000780000000000000000fb0000000a00560069006500770073010000003d000002f4000000a400fffffffb0000001200530065006c0065006300740069006f006e010000025a000000b200000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d0065010000000000000450000000000000000000000234000002f400000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\n  Width: 1200\n  X: 72\n  Y: 60\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-3-create-a-humanoid-robot-model",children:"Exercise 3: Create a Humanoid Robot Model"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-create-a-complex-humanoid-urdf",children:"Step 1: Create a complex humanoid URDF"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf/humanoid_robot.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_robot">\n  \x3c!-- Properties --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="torso_height" value="0.5" />\n  <xacro:property name="torso_width" value="0.2" />\n  <xacro:property name="torso_depth" value="0.15" />\n  <xacro:property name="head_radius" value="0.1" />\n  <xacro:property name="arm_length" value="0.4" />\n  <xacro:property name="arm_radius" value="0.05" />\n  <xacro:property name="leg_length" value="0.6" />\n  <xacro:property name="leg_radius" value="0.07" />\n  <xacro:property name="foot_size" value="0.15 0.08 0.05" />\n\n  \x3c!-- Materials --\x3e\n  <material name="red">\n    <color rgba="1 0 0 1"/>\n  </material>\n  <material name="green">\n    <color rgba="0 1 0 1"/>\n  </material>\n  <material name="blue">\n    <color rgba="0 0 1 1"/>\n  </material>\n  <material name="white">\n    <color rgba="1 1 1 1"/>\n  </material>\n  <material name="black">\n    <color rgba="0 0 0 1"/>\n  </material>\n\n  \x3c!-- Base footprint --\x3e\n  <link name="base_footprint">\n    <visual>\n      <geometry>\n        <box size="0.01 0.01 0.01"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.01 0.01 0.01"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.001"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="${torso_height} ${torso_width} ${torso_depth}"/>\n      </geometry>\n      <material name="blue"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${torso_height} ${torso_width} ${torso_depth}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="10.0"/>\n      <inertia ixx="0.5" ixy="0" ixz="0" iyy="0.5" iyz="0" izz="0.5"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Base to torso joint --\x3e\n  <joint name="base_to_torso" type="fixed">\n    <parent link="base_footprint"/>\n    <child link="torso"/>\n    <origin xyz="0 0 0.7" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="${head_radius}"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="${head_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.02" ixy="0" ixz="0" iyy="0.02" iyz="0" izz="0.02"/>\n    </inertial>\n  </link>\n\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="${torso_height/2} 0 ${torso_depth/2}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- Left Arm --\x3e\n  <link name="left_upper_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <material name="red"/>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  <joint name="left_shoulder_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="left_upper_arm"/>\n    <origin xyz="${torso_height/2} ${torso_width/2} 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="left_lower_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <material name="red"/>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="0.8"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  <joint name="left_elbow_joint" type="revolute">\n    <parent link="left_upper_arm"/>\n    <child link="left_lower_arm"/>\n    <origin xyz="0 0 ${arm_length}" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="0" upper="${M_PI/2}" effort="30" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Right Arm --\x3e\n  <link name="right_upper_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <material name="red"/>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  <joint name="right_shoulder_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="right_upper_arm"/>\n    <origin xyz="${torso_height/2} ${-torso_width/2} 0" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="50" velocity="2.0"/>\n  </joint>\n\n  <link name="right_lower_arm">\n    <visual>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <material name="red"/>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${arm_length}" radius="${arm_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${arm_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="0.8"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  <joint name="right_elbow_joint" type="revolute">\n    <parent link="right_upper_arm"/>\n    <child link="right_lower_arm"/>\n    <origin xyz="0 0 ${arm_length}" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="0" upper="${M_PI/2}" effort="30" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Left Leg --\x3e\n  <link name="left_upper_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <material name="green"/>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.05" iyz="0" izz="0.05"/>\n    </inertial>\n  </link>\n\n  <joint name="left_hip_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="left_upper_leg"/>\n    <origin xyz="${-torso_height/4} ${torso_width/2} ${-torso_depth/2}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="left_lower_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <material name="green"/>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>\n    </inertial>\n  </link>\n\n  <joint name="left_knee_joint" type="revolute">\n    <parent link="left_upper_leg"/>\n    <child link="left_lower_leg"/>\n    <origin xyz="0 0 ${-leg_length}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="${M_PI/2}" effort="80" velocity="1.0"/>\n  </joint>\n\n  <link name="left_foot">\n    <visual>\n      <geometry>\n        <box size="${foot_size[0]} ${foot_size[1]} ${foot_size[2]}"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${foot_size[0]} ${foot_size[1]} ${foot_size[2]}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="left_ankle_joint" type="revolute">\n    <parent link="left_lower_leg"/>\n    <child link="left_foot"/>\n    <origin xyz="0 0 ${-leg_length}" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="40" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- Right Leg --\x3e\n  <link name="right_upper_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <material name="green"/>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.05" ixy="0" ixz="0" iyy="0.05" iyz="0" izz="0.05"/>\n    </inertial>\n  </link>\n\n  <joint name="right_hip_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="right_upper_leg"/>\n    <origin xyz="${-torso_height/4} ${-torso_width/2} ${-torso_depth/2}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.0"/>\n  </joint>\n\n  <link name="right_lower_leg">\n    <visual>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <material name="green"/>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder length="${leg_length}" radius="${leg_radius}"/>\n      </geometry>\n      <origin xyz="0 0 ${-leg_length/2}" rpy="${M_PI/2} 0 0"/>\n    </collision>\n    <inertial>\n      <mass value="1.5"/>\n      <inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.04"/>\n    </inertial>\n  </link>\n\n  <joint name="right_knee_joint" type="revolute">\n    <parent link="right_upper_leg"/>\n    <child link="right_lower_leg"/>\n    <origin xyz="0 0 ${-leg_length}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0" upper="${M_PI/2}" effort="80" velocity="1.0"/>\n  </joint>\n\n  <link name="right_foot">\n    <visual>\n      <geometry>\n        <box size="${foot_size[0]} ${foot_size[1]} ${foot_size[2]}"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="${foot_size[0]} ${foot_size[1]} ${foot_size[2]}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.5"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n    </inertial>\n  </link>\n\n  <joint name="right_ankle_joint" type="revolute">\n    <parent link="right_lower_leg"/>\n    <child link="right_foot"/>\n    <origin xyz="0 0 ${-leg_length}" rpy="0 0 0"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="${-M_PI/4}" upper="${M_PI/4}" effort="40" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- IMU sensor in head --\x3e\n  <link name="imu_link">\n    <visual>\n      <geometry>\n        <box size="0.01 0.01 0.01"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.01 0.01 0.01"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="imu_joint" type="fixed">\n    <parent link="head"/>\n    <child link="imu_link"/>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n  </joint>\n\n  \x3c!-- Camera in head --\x3e\n  <link name="camera_link">\n    <visual>\n      <geometry>\n        <box size="0.02 0.02 0.02"/>\n      </geometry>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.02 0.02 0.02"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="0.01"/>\n      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>\n    </inertial>\n  </link>\n\n  <joint name="camera_joint" type="fixed">\n    <parent link="head"/>\n    <child link="camera_link"/>\n    <origin xyz="${head_radius} 0 0" rpy="0 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-4-add-gazebo-specific-elements-to-robot-model",children:"Exercise 4: Add Gazebo-Specific Elements to Robot Model"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-create-gazebo-extended-urdf",children:"Step 1: Create Gazebo-extended URDF"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf/humanoid_robot_gazebo.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_robot_gazebo">\n  \x3c!-- Include the basic humanoid model --\x3e\n  <xacro:include filename="humanoid_robot.xacro" />\n\n  \x3c!-- Gazebo-specific elements --\x3e\n  <gazebo reference="torso">\n    <material>Gazebo/Blue</material>\n    <mu1>0.2</mu1>\n    <mu2>0.2</mu2>\n  </gazebo>\n\n  <gazebo reference="head">\n    <material>Gazebo/White</material>\n    <mu1>0.1</mu1>\n    <mu2>0.1</mu2>\n  </gazebo>\n\n  <gazebo reference="left_upper_arm">\n    <material>Gazebo/Red</material>\n    <mu1>0.1</mu1>\n    <mu2>0.1</mu2>\n  </gazebo>\n\n  <gazebo reference="left_lower_arm">\n    <material>Gazebo/Red</material>\n    <mu1>0.1</mu1>\n    <mu2>0.1</mu2>\n  </gazebo>\n\n  <gazebo reference="right_upper_arm">\n    <material>Gazebo/Red</material>\n    <mu1>0.1</mu1>\n    <mu2>0.1</mu2>\n  </gazebo>\n\n  <gazebo reference="right_lower_arm">\n    <material>Gazebo/Red</material>\n    <mu1>0.1</mu1>\n    <mu2>0.1</mu2>\n  </gazebo>\n\n  <gazebo reference="left_upper_leg">\n    <material>Gazebo/Green</material>\n    <mu1>0.3</mu1>\n    <mu2>0.3</mu2>\n  </gazebo>\n\n  <gazebo reference="left_lower_leg">\n    <material>Gazebo/Green</material>\n    <mu1>0.3</mu1>\n    <mu2>0.3</mu2>\n  </gazebo>\n\n  <gazebo reference="left_foot">\n    <material>Gazebo/Black</material>\n    <mu1>0.8</mu1>\n    <mu2>0.8</mu2>\n  </gazebo>\n\n  <gazebo reference="right_upper_leg">\n    <material>Gazebo/Green</material>\n    <mu1>0.3</mu1>\n    <mu2>0.3</mu2>\n  </gazebo>\n\n  <gazebo reference="right_lower_leg">\n    <material>Gazebo/Green</material>\n    <mu1>0.3</mu1>\n    <mu2>0.3</mu2>\n  </gazebo>\n\n  <gazebo reference="right_foot">\n    <material>Gazebo/Black</material>\n    <mu1>0.8</mu1>\n    <mu2>0.8</mu2>\n  </gazebo>\n\n  \x3c!-- IMU Sensor --\x3e\n  <gazebo reference="imu_link">\n    <sensor name="imu_sensor" type="imu">\n      <always_on>true</always_on>\n      <update_rate>100</update_rate>\n      <visualize>true</visualize>\n      <topic>imu</topic>\n      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">\n        <ros>\n          <namespace>/humanoid</namespace>\n          <remapping>~/out:=imu_data</remapping>\n        </ros>\n        <initial_orientation_as_reference>false</initial_orientation_as_reference>\n      </plugin>\n    </sensor>\n  </gazebo>\n\n  \x3c!-- Camera Sensor --\x3e\n  <gazebo reference="camera_link">\n    <sensor name="camera" type="camera">\n      <always_on>true</always_on>\n      <visualize>true</visualize>\n      <update_rate>30</update_rate>\n      <camera name="head_camera">\n        <horizontal_fov>1.047</horizontal_fov>\n        <image>\n          <width>640</width>\n          <height>480</height>\n          <format>R8G8B8</format>\n        </image>\n        <clip>\n          <near>0.1</near>\n          <far>100</far>\n        </clip>\n      </camera>\n      <plugin filename="libgazebo_ros_camera.so" name="camera_plugin">\n        <ros>\n          <namespace>/humanoid</namespace>\n          <remapping>image_raw:=camera/image_raw</remapping>\n          <remapping>camera_info:=camera/camera_info</remapping>\n        </ros>\n        <camera_name>camera</camera_name>\n        <frame_name>camera_link</frame_name>\n      </plugin>\n    </sensor>\n  </gazebo>\n\n  \x3c!-- LiDAR Sensor --\x3e\n  <gazebo reference="head">\n    <sensor name="lidar" type="ray">\n      <always_on>true</always_on>\n      <visualize>true</visualize>\n      <update_rate>10</update_rate>\n      <ray>\n        <scan>\n          <horizontal>\n            <samples>360</samples>\n            <resolution>1</resolution>\n            <min_angle>-3.14159</min_angle>\n            <max_angle>3.14159</max_angle>\n          </horizontal>\n        </scan>\n        <range>\n          <min>0.1</min>\n          <max>30.0</max>\n          <resolution>0.01</resolution>\n        </range>\n      </ray>\n      <plugin filename="libgazebo_ros_laser.so" name="lidar_plugin">\n        <ros>\n          <namespace>/humanoid</namespace>\n          <remapping>scan:=scan</remapping>\n        </ros>\n        <frame_name>head</frame_name>\n      </plugin>\n    </sensor>\n  </gazebo>\n\n  \x3c!-- Control plugins for joints --\x3e\n  <gazebo>\n    <plugin name="joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">\n      <ros>\n        <namespace>/humanoid</namespace>\n        <remapping>~/out:=joint_states</remapping>\n      </ros>\n      <update_rate>30</update_rate>\n      <joint_name>left_shoulder_joint</joint_name>\n      <joint_name>left_elbow_joint</joint_name>\n      <joint_name>right_shoulder_joint</joint_name>\n      <joint_name>right_elbow_joint</joint_name>\n      <joint_name>left_hip_joint</joint_name>\n      <joint_name>left_knee_joint</joint_name>\n      <joint_name>left_ankle_joint</joint_name>\n      <joint_name>right_hip_joint</joint_name>\n      <joint_name>right_knee_joint</joint_name>\n      <joint_name>right_ankle_joint</joint_name>\n      <joint_name>neck_joint</joint_name>\n    </plugin>\n  </gazebo>\n\n  \x3c!-- Position control for joints --\x3e\n  <gazebo>\n    <plugin name="position_controller" filename="libgazebo_ros_joint_trajectory.so">\n      <ros>\n        <namespace>/humanoid</namespace>\n      </ros>\n      <update_rate>100</update_rate>\n    </plugin>\n  </gazebo>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-5-create-sdf-version-of-robot-model",children:"Exercise 5: Create SDF Version of Robot Model"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-create-sdf-model-directory",children:"Step 1: Create SDF model directory"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/gazebo_ws/models/humanoid_robot\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-2-create-sdf-model-files",children:"Step 2: Create SDF model files"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/gazebo_ws/models/humanoid_robot/model.config"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<model>\n  <name>humanoid_robot</name>\n  <version>1.0</version>\n  <sdf version="1.7">model.sdf</sdf>\n  <author>\n    <name>Your Name</name>\n    <email>your.email@example.com</email>\n  </author>\n  <description>A humanoid robot model for Gazebo simulation.</description>\n</model>\n'})}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/gazebo_ws/models/humanoid_robot/model.sdf"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <model name="humanoid_robot">\n    \x3c!-- Torso --\x3e\n    <link name="torso">\n      <pose>0 0 0.7 0 0 0</pose>\n      <inertial>\n        <mass>10.0</mass>\n        <inertia>\n          <ixx>0.5</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.5</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.5</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="torso_collision">\n        <geometry>\n          <box>\n            <size>0.5 0.2 0.15</size>\n          </box>\n        </geometry>\n      </collision>\n\n      <visual name="torso_visual">\n        <geometry>\n          <box>\n            <size>0.5 0.2 0.15</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.0 0.0 1.0 1.0</ambient>\n          <diffuse>0.0 0.0 1.0 1.0</diffuse>\n          <specular>0.0 0.0 1.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    \x3c!-- Head --\x3e\n    <link name="head">\n      <pose>0.25 0 0.85 0 0 0</pose>\n      <inertial>\n        <mass>2.0</mass>\n        <inertia>\n          <ixx>0.02</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.02</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.02</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="head_collision">\n        <geometry>\n          <sphere>\n            <radius>0.1</radius>\n          </sphere>\n        </geometry>\n      </collision>\n\n      <visual name="head_visual">\n        <geometry>\n          <sphere>\n            <radius>0.1</radius>\n          </sphere>\n        </geometry>\n        <material>\n          <ambient>1.0 1.0 1.0 1.0</ambient>\n          <diffuse>1.0 1.0 1.0 1.0</diffuse>\n          <specular>1.0 1.0 1.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="neck_joint" type="revolute">\n      <parent>torso</parent>\n      <child>head</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>100</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>0.25 0 0.15 0 0 0</pose>\n    </joint>\n\n    \x3c!-- Left Arm --\x3e\n    <link name="left_upper_arm">\n      <pose>0.25 0.1 0.7 0 0 0</pose>\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.01</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.01</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.01</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="left_upper_arm_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="left_upper_arm_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>1.0 0.0 0.0 1.0</ambient>\n          <diffuse>1.0 0.0 0.0 1.0</diffuse>\n          <specular>1.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="left_shoulder_joint" type="revolute">\n      <parent>torso</parent>\n      <child>left_upper_arm</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>50</effort>\n          <velocity>2.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0.1 0 0 0 0</pose>\n    </joint>\n\n    <link name="left_lower_arm">\n      <pose>0.25 0.1 0.3 0 0 0</pose>\n      <inertial>\n        <mass>0.8</mass>\n        <inertia>\n          <ixx>0.01</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.01</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.01</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="left_lower_arm_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="left_lower_arm_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>1.0 0.0 0.0 1.0</ambient>\n          <diffuse>1.0 0.0 0.0 1.0</diffuse>\n          <specular>1.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="left_elbow_joint" type="revolute">\n      <parent>left_upper_arm</parent>\n      <child>left_lower_arm</child>\n      <axis>\n        <xyz>0 0 1</xyz>\n        <limit>\n          <lower>0</lower>\n          <upper>1.57</upper>\n          <effort>30</effort>\n          <velocity>2.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.4 0 0 0</pose>\n    </joint>\n\n    \x3c!-- Right Arm --\x3e\n    <link name="right_upper_arm">\n      <pose>0.25 -0.1 0.7 0 0 0</pose>\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.01</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.01</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.01</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="right_upper_arm_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="right_upper_arm_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>1.0 0.0 0.0 1.0</ambient>\n          <diffuse>1.0 0.0 0.0 1.0</diffuse>\n          <specular>1.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="right_shoulder_joint" type="revolute">\n      <parent>torso</parent>\n      <child>right_upper_arm</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>50</effort>\n          <velocity>2.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 -0.1 0 0 0 0</pose>\n    </joint>\n\n    <link name="right_lower_arm">\n      <pose>0.25 -0.1 0.3 0 0 0</pose>\n      <inertial>\n        <mass>0.8</mass>\n        <inertia>\n          <ixx>0.01</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.01</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.01</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="right_lower_arm_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="right_lower_arm_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.05</radius>\n            <length>0.4</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>1.0 0.0 0.0 1.0</ambient>\n          <diffuse>1.0 0.0 0.0 1.0</diffuse>\n          <specular>1.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="right_elbow_joint" type="revolute">\n      <parent>right_upper_arm</parent>\n      <child>right_lower_arm</child>\n      <axis>\n        <xyz>0 0 1</xyz>\n        <limit>\n          <lower>0</lower>\n          <upper>1.57</upper>\n          <effort>30</effort>\n          <velocity>2.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.4 0 0 0</pose>\n    </joint>\n\n    \x3c!-- Left Leg --\x3e\n    <link name="left_upper_leg">\n      <pose>-0.125 0.1 0.55 0 0 0</pose>\n      <inertial>\n        <mass>2.0</mass>\n        <inertia>\n          <ixx>0.05</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.05</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.05</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="left_upper_leg_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="left_upper_leg_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>0.0 1.0 0.0 1.0</ambient>\n          <diffuse>0.0 1.0 0.0 1.0</diffuse>\n          <specular>0.0 1.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="left_hip_joint" type="revolute">\n      <parent>torso</parent>\n      <child>left_upper_leg</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>100</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>-0.375 0.1 -0.075 0 0 0</pose>\n    </joint>\n\n    <link name="left_lower_leg">\n      <pose>-0.125 0.1 0.25 0 0 0</pose>\n      <inertial>\n        <mass>1.5</mass>\n        <inertia>\n          <ixx>0.04</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.04</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.04</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="left_lower_leg_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="left_lower_leg_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>0.0 1.0 0.0 1.0</ambient>\n          <diffuse>0.0 1.0 0.0 1.0</diffuse>\n          <specular>0.0 1.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="left_knee_joint" type="revolute">\n      <parent>left_upper_leg</parent>\n      <child>left_lower_leg</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>0</lower>\n          <upper>1.57</upper>\n          <effort>80</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.6 0 0 0</pose>\n    </joint>\n\n    <link name="left_foot">\n      <pose>-0.125 0.1 -0.05 0 0 0</pose>\n      <inertial>\n        <mass>0.5</mass>\n        <inertia>\n          <ixx>0.001</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.001</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.001</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="left_foot_collision">\n        <geometry>\n          <box>\n            <size>0.15 0.08 0.05</size>\n          </box>\n        </geometry>\n      </collision>\n\n      <visual name="left_foot_visual">\n        <geometry>\n          <box>\n            <size>0.15 0.08 0.05</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.0 0.0 0.0 1.0</ambient>\n          <diffuse>0.0 0.0 0.0 1.0</diffuse>\n          <specular>0.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="left_ankle_joint" type="revolute">\n      <parent>left_lower_leg</parent>\n      <child>left_foot</child>\n      <axis>\n        <xyz>0 0 1</xyz>\n        <limit>\n          <lower>-0.785</lower>\n          <upper>0.785</upper>\n          <effort>40</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.6 0 0 0</pose>\n    </joint>\n\n    \x3c!-- Right Leg --\x3e\n    <link name="right_upper_leg">\n      <pose>-0.125 -0.1 0.55 0 0 0</pose>\n      <inertial>\n        <mass>2.0</mass>\n        <inertia>\n          <ixx>0.05</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.05</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.05</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="right_upper_leg_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="right_upper_leg_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>0.0 1.0 0.0 1.0</ambient>\n          <diffuse>0.0 1.0 0.0 1.0</diffuse>\n          <specular>0.0 1.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="right_hip_joint" type="revolute">\n      <parent>torso</parent>\n      <child>right_upper_leg</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>-1.57</lower>\n          <upper>1.57</upper>\n          <effort>100</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>-0.375 -0.1 -0.075 0 0 0</pose>\n    </joint>\n\n    <link name="right_lower_leg">\n      <pose>-0.125 -0.1 0.25 0 0 0</pose>\n      <inertial>\n        <mass>1.5</mass>\n        <inertia>\n          <ixx>0.04</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.04</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.04</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="right_lower_leg_collision">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n      </collision>\n\n      <visual name="right_lower_leg_visual">\n        <geometry>\n          <cylinder>\n            <radius>0.07</radius>\n            <length>0.6</length>\n          </cylinder>\n        </geometry>\n        <material>\n          <ambient>0.0 1.0 0.0 1.0</ambient>\n          <diffuse>0.0 1.0 0.0 1.0</diffuse>\n          <specular>0.0 1.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="right_knee_joint" type="revolute">\n      <parent>right_upper_leg</parent>\n      <child>right_lower_leg</child>\n      <axis>\n        <xyz>0 1 0</xyz>\n        <limit>\n          <lower>0</lower>\n          <upper>1.57</upper>\n          <effort>80</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.6 0 0 0</pose>\n    </joint>\n\n    <link name="right_foot">\n      <pose>-0.125 -0.1 -0.05 0 0 0</pose>\n      <inertial>\n        <mass>0.5</mass>\n        <inertia>\n          <ixx>0.001</ixx>\n          <ixy>0.0</ixy>\n          <ixz>0.0</ixz>\n          <iyy>0.001</iyy>\n          <iyz>0.0</iyz>\n          <izz>0.001</izz>\n        </inertia>\n      </inertial>\n\n      <collision name="right_foot_collision">\n        <geometry>\n          <box>\n            <size>0.15 0.08 0.05</size>\n          </box>\n        </geometry>\n      </collision>\n\n      <visual name="right_foot_visual">\n        <geometry>\n          <box>\n            <size>0.15 0.08 0.05</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.0 0.0 0.0 1.0</ambient>\n          <diffuse>0.0 0.0 0.0 1.0</diffuse>\n          <specular>0.0 0.0 0.0 1.0</specular>\n        </material>\n      </visual>\n    </link>\n\n    <joint name="right_ankle_joint" type="revolute">\n      <parent>right_lower_leg</parent>\n      <child>right_foot</child>\n      <axis>\n        <xyz>0 0 1</xyz>\n        <limit>\n          <lower>-0.785</lower>\n          <upper>0.785</upper>\n          <effort>40</effort>\n          <velocity>1.0</velocity>\n        </limit>\n      </axis>\n      <pose>0 0 -0.6 0 0 0</pose>\n    </joint>\n\n    \x3c!-- Sensors --\x3e\n    <sensor name="imu_sensor" type="imu">\n      <pose>0.25 0 0.85 0 0 0</pose>\n      <topic>imu</topic>\n      <always_on>true</always_on>\n      <update_rate>100</update_rate>\n    </sensor>\n\n    <sensor name="camera" type="camera">\n      <pose>0.35 0 0.85 0 0 0</pose>\n      <camera name="head_camera">\n        <horizontal_fov>1.047</horizontal_fov>\n        <image>\n          <width>640</width>\n          <height>480</height>\n          <format>R8G8B8</format>\n        </image>\n        <clip>\n          <near>0.1</near>\n          <far>100</far>\n        </clip>\n      </camera>\n      <always_on>true</always_on>\n      <update_rate>30</update_rate>\n    </sensor>\n  </model>\n</sdf>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-6-build-and-test-the-robot-models",children:"Exercise 6: Build and Test the Robot Models"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-update-setuppy",children:"Step 1: Update setup.py"}),"\n",(0,r.jsxs)(e.p,{children:["Edit ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/setup.py"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"from setuptools import setup\nimport os\nfrom glob import glob\n\npackage_name = 'robot_modeling_py'\n\nsetup(\n    name=package_name,\n    version='0.0.0',\n    packages=[package_name],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n        (os.path.join('share', package_name, 'urdf'), glob('urdf/*.urdf')),\n        (os.path.join('share', package_name, 'urdf'), glob('urdf/*.xacro')),\n        (os.path.join('share', package_name, 'launch'), glob('launch/*.py')),\n        (os.path.join('share', package_name, 'config'), glob('config/*.rviz')),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='Your Name',\n    maintainer_email='your.email@example.com',\n    description='Robot modeling examples',\n    license='Apache License 2.0',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n        ],\n    },\n)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-2-build-the-package",children:"Step 2: Build the package"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws\ncolcon build --packages-select robot_modeling_py\nsource ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-3-test-urdf-models",children:"Step 3: Test URDF models"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Check URDF validity\nxacro check_args ~/ros2_ws/src/robot_modeling_py/robot_modeling_py/urdf/humanoid_robot.xacro\n\n# Launch RViz to view the robot\nros2 launch robot_modeling_py display_robot.launch.py\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-4-test-with-gazebo",children:"Step 4: Test with Gazebo"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# Set Gazebo model path\nexport GAZEBO_MODEL_PATH=~/gazebo_ws/models:$GAZEBO_MODEL_PATH\n\n# Create a test world with the humanoid robot\necho \'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="humanoid_test">\n    <include>\n      <uri>model://sun</uri>\n    </include>\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    <physics name="1ms" type="ignored">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n      <real_time_update_rate>1000.0</real_time_update_rate>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n    <include>\n      <uri>model://humanoid_robot</uri>\n      <pose>0 0 1 0 0 0</pose>\n    </include>\n  </world>\n</sdf>\' > ~/gazebo_ws/worlds/humanoid_test.sdf\n\n# Launch Gazebo with the humanoid robot\ngz sim ~/gazebo_ws/worlds/humanoid_test.sdf\n'})}),"\n",(0,r.jsx)(e.h2,{id:"exercise-7-model-validation-and-troubleshooting",children:"Exercise 7: Model Validation and Troubleshooting"}),"\n",(0,r.jsx)(e.h3,{id:"step-1-validate-urdf-models",children:"Step 1: Validate URDF models"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Install urdf validation tools\nsudo apt install ros-humble-urdfdom-py\n\n# Validate URDF\npython3 -c \"from urdf_parser_py.urdf import URDF; robot = URDF.from_xml_file('/path/to/robot.urdf'); print('Valid URDF')\"\n"})}),"\n",(0,r.jsx)(e.h3,{id:"step-2-common-validation-checks",children:"Step 2: Common validation checks"}),"\n",(0,r.jsxs)(e.p,{children:["Create a validation script ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/robot_modeling_py/robot_modeling_py/validate_robot.py"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport xml.etree.ElementTree as ET\nfrom urdf_parser_py.urdf import URDF\nimport sys\n\ndef validate_urdf_model(urdf_path):\n    """Validate URDF model for common issues."""\n    try:\n        # Parse URDF\n        robot = URDF.from_xml_file(urdf_path)\n        print(f"\u2713 Successfully parsed URDF: {urdf_path}")\n\n        # Check for common issues\n        issues = []\n\n        # Check if robot has a base link\n        if not robot.get_root():\n            issues.append("No root link found")\n\n        # Check joint limits\n        for joint in robot.joints:\n            if joint.type in [\'revolute\', \'prismatic\']:\n                if joint.limit is None:\n                    issues.append(f"Joint {joint.name} has no limits")\n                elif joint.limit.effort == 0:\n                    issues.append(f"Joint {joint.name} has zero effort limit")\n\n        # Check for links without visuals or collisions\n        for link in robot.links:\n            if not link.visual and not link.collision:\n                issues.append(f"Link {link.name} has no visual or collision geometry")\n\n        # Check inertial properties\n        for link in robot.links:\n            if link.inertial is None:\n                issues.append(f"Link {link.name} has no inertial properties")\n            elif link.inertial.mass <= 0:\n                issues.append(f"Link {link.name} has invalid mass: {link.inertial.mass}")\n\n        if issues:\n            print("\u26a0 Issues found:")\n            for issue in issues:\n                print(f"  - {issue}")\n        else:\n            print("\u2713 No major issues found")\n\n        return len(issues) == 0\n\n    except Exception as e:\n        print(f"\u2717 Error validating URDF: {e}")\n        return False\n\nif __name__ == "__main__":\n    if len(sys.argv) != 2:\n        print("Usage: python3 validate_robot.py <urdf_file>")\n        sys.exit(1)\n\n    urdf_file = sys.argv[1]\n    success = validate_urdf_model(urdf_file)\n    sys.exit(0 if success else 1)\n'})}),"\n",(0,r.jsx)(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(e.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"URDF parsing errors"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Check XML syntax and proper closing tags"}),"\n",(0,r.jsx)(e.li,{children:"Ensure all referenced materials are defined"}),"\n",(0,r.jsx)(e.li,{children:"Verify joint types and limits are properly specified"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Gazebo model not appearing"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Verify GAZEBO_MODEL_PATH includes model directory"}),"\n",(0,r.jsx)(e.li,{children:"Check model.config has correct name and SDF reference"}),"\n",(0,r.jsx)(e.li,{children:"Ensure SDF file is valid and properly formatted"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Physics simulation issues"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Check inertial properties are realistic"}),"\n",(0,r.jsx)(e.li,{children:"Verify mass values are positive and reasonable"}),"\n",(0,r.jsx)(e.li,{children:"Ensure collision geometries are properly defined"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Joint limits not working"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Verify joint types match intended motion"}),"\n",(0,r.jsx)(e.li,{children:"Check limit values are in radians for revolute joints"}),"\n",(0,r.jsx)(e.li,{children:"Ensure effort and velocity limits are set appropriately"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Sensors not publishing data"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Check sensor plugins are properly configured"}),"\n",(0,r.jsx)(e.li,{children:"Verify Gazebo plugin paths are correct"}),"\n",(0,r.jsx)(e.li,{children:"Ensure sensor topics are accessible"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"What are the key differences between URDF and SDF formats?"}),"\n",(0,r.jsx)(e.li,{children:"Why are inertial properties important in robot models?"}),"\n",(0,r.jsx)(e.li,{children:"How do you add sensors to a robot model in Gazebo?"}),"\n",(0,r.jsx)(e.li,{children:"What are the advantages of using Xacro for complex robots?"}),"\n",(0,r.jsx)(e.li,{children:"How do you validate a robot model before simulation?"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"extension-exercises",children:"Extension Exercises"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Add a gripper to one of the robot arms with proper kinematics"}),"\n",(0,r.jsx)(e.li,{children:"Create a complete walking controller for the humanoid robot"}),"\n",(0,r.jsx)(e.li,{children:"Add more sensors (LiDAR, force/torque sensors) to the robot"}),"\n",(0,r.jsx)(e.li,{children:"Implement a control interface for the humanoid robot"}),"\n",(0,r.jsx)(e.li,{children:"Create a custom mesh for one of the robot parts and integrate it"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(e.p,{children:"In this lab, you successfully:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Created detailed robot models in both URDF and SDF formats"}),"\n",(0,r.jsx)(e.li,{children:"Integrated sensors into robot models for simulation"}),"\n",(0,r.jsx)(e.li,{children:"Used Xacro to create parameterized and modular robot models"}),"\n",(0,r.jsx)(e.li,{children:"Validated robot models and addressed common issues"}),"\n",(0,r.jsx)(e.li,{children:"Created a complete humanoid robot model with proper kinematics"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"These skills are fundamental for robotics development, as accurate robot models are essential for simulation, control system development, and testing before deployment on physical robots. The ability to create detailed, physically accurate models is crucial for realistic simulation and successful transfer to real-world applications."})]})}function c(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>t});var r=i(6540);const o={},a=r.createContext(o);function l(n){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:l(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);