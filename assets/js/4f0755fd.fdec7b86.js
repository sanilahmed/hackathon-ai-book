"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[7898],{1747(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=i(4848),o=i(8453);const s={sidebar_label:"Lab 2.1: Gazebo Setup"},r="Lab Exercise 2.1: Gazebo Setup for Digital Twin",l={id:"modules/lab-exercises/lab-2-1-gazebo-setup",title:"Lab Exercise 2.1: Gazebo Setup for Digital Twin",description:"This lab exercise guides you through setting up Gazebo for creating a digital twin environment.",source:"@site/docs/modules/lab-exercises/lab-2-1-gazebo-setup.md",sourceDirName:"modules/lab-exercises",slug:"/modules/lab-exercises/lab-2-1-gazebo-setup",permalink:"/hackathon-ai-book/modules/lab-exercises/lab-2-1-gazebo-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/sanilahmed/hackathon-ai-book/tree/main/docs/modules/lab-exercises/lab-2-1-gazebo-setup.md",tags:[],version:"current",frontMatter:{sidebar_label:"Lab 2.1: Gazebo Setup"},sidebar:"tutorialSidebar",previous:{title:"ROS 2 Synchronization",permalink:"/hackathon-ai-book/modules/digital-twin/ros2-sync"},next:{title:"Lab 2.2: Robot Model Integration",permalink:"/hackathon-ai-book/modules/lab-exercises/lab-2-2-robot-model-integration"}},t={},c=[{value:"Objectives",id:"objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Gazebo Installation",id:"gazebo-installation",level:2},{value:"Installing Gazebo Garden",id:"installing-gazebo-garden",level:3},{value:"Basic Gazebo Environment",id:"basic-gazebo-environment",level:2},{value:"Launching Gazebo",id:"launching-gazebo",level:3},{value:"Creating a Custom World",id:"creating-a-custom-world",level:3},{value:"ROS 2 Integration",id:"ros-2-integration",level:2},{value:"Gazebo ROS Packages",id:"gazebo-ros-packages",level:3},{value:"Launch File for Gazebo",id:"launch-file-for-gazebo",level:3},{value:"Robot Model in Gazebo",id:"robot-model-in-gazebo",level:2},{value:"Adding a Robot Model",id:"adding-a-robot-model",level:3},{value:"Robot Spawn Launch",id:"robot-spawn-launch",level:3},{value:"Sensor Integration",id:"sensor-integration",level:2},{value:"Adding Sensors to Robot",id:"adding-sensors-to-robot",level:3},{value:"Testing the Setup",id:"testing-the-setup",level:2},{value:"Launch Everything",id:"launch-everything",level:3},{value:"Verify Integration",id:"verify-integration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Performance Tips",id:"performance-tips",level:3},{value:"Exercise Tasks",id:"exercise-tasks",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"lab-exercise-21-gazebo-setup-for-digital-twin",children:"Lab Exercise 2.1: Gazebo Setup for Digital Twin"}),"\n",(0,a.jsx)(n.p,{children:"This lab exercise guides you through setting up Gazebo for creating a digital twin environment."}),"\n",(0,a.jsx)(n.h2,{id:"objectives",children:"Objectives"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Install and configure Gazebo Garden"}),"\n",(0,a.jsx)(n.li,{children:"Create a basic simulation environment"}),"\n",(0,a.jsx)(n.li,{children:"Integrate with ROS 2"}),"\n",(0,a.jsx)(n.li,{children:"Test basic robot simulation"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"ROS 2 Humble Hawksbill installed"}),"\n",(0,a.jsx)(n.li,{children:"Ubuntu 22.04"}),"\n",(0,a.jsx)(n.li,{children:"NVIDIA GPU (recommended for rendering)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"gazebo-installation",children:"Gazebo Installation"}),"\n",(0,a.jsx)(n.h3,{id:"installing-gazebo-garden",children:"Installing Gazebo Garden"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Add the ignition repository:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nwget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\nsudo apt update\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install Gazebo Garden:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install gz-garden\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install ROS 2 Gazebo packages:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-ros2-control\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"basic-gazebo-environment",children:"Basic Gazebo Environment"}),"\n",(0,a.jsx)(n.h3,{id:"launching-gazebo",children:"Launching Gazebo"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start Gazebo with an empty world:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"gz sim -r empty.sdf\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Or launch with ROS 2 integration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch gazebo_ros empty_world.launch.py\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-custom-world",children:"Creating a Custom World"}),"\n",(0,a.jsxs)(n.p,{children:["Create a custom world file ",(0,a.jsx)(n.code,{children:"my_world.sdf"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="my_world">\n    \x3c!-- Include sun for lighting --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Include ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Add a simple box --\x3e\n    <model name="box">\n      <pose>1 0 0.5 0 0 0</pose>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>1 1 1</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0.5 0 0 1</ambient>\n            <diffuse>1 0 0 1</diffuse>\n            <specular>1 0 0 1</specular>\n          </material>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"ros-2-integration",children:"ROS 2 Integration"}),"\n",(0,a.jsx)(n.h3,{id:"gazebo-ros-packages",children:"Gazebo ROS Packages"}),"\n",(0,a.jsx)(n.p,{children:"The main packages for ROS 2 integration:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"gazebo_ros"}),": Core ROS 2 plugins for Gazebo"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"gazebo_plugins"}),": Various sensor and actuator plugins"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"gazebo_dev"}),": Development files for creating custom plugins"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"launch-file-for-gazebo",children:"Launch File for Gazebo"}),"\n",(0,a.jsxs)(n.p,{children:["Create a launch file ",(0,a.jsx)(n.code,{children:"gazebo_launch.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.substitutions import FindPackageShare\n\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    # Launch Gazebo\n    gazebo = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('gazebo_ros'),\n                'launch',\n                'gazebo.launch.py'\n            ])\n        ]),\n        launch_arguments={\n            'world': PathJoinSubstitution([\n                FindPackageShare('my_robot_description'),\n                'worlds',\n                'my_world.sdf'\n            ])\n        }.items()\n    )\n\n    return LaunchDescription([\n        gazebo\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"robot-model-in-gazebo",children:"Robot Model in Gazebo"}),"\n",(0,a.jsx)(n.h3,{id:"adding-a-robot-model",children:"Adding a Robot Model"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Create a URDF model for your robot"}),"\n",(0,a.jsx)(n.li,{children:"Convert to SDF if needed (Gazebo can read URDF directly)"}),"\n",(0,a.jsx)(n.li,{children:"Add Gazebo-specific tags to your URDF:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<gazebo reference="link_name">\n  <material>Gazebo/Blue</material>\n  <mu1>0.2</mu1>\n  <mu2>0.2</mu2>\n</gazebo>\n\n\x3c!-- For joints --\x3e\n<gazebo reference="joint_name">\n  <implicitSpringDamper>1</implicitSpringDamper>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"robot-spawn-launch",children:"Robot Spawn Launch"}),"\n",(0,a.jsx)(n.p,{children:"Create a launch file to spawn your robot in Gazebo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import Command, LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Declare arguments\n    declared_arguments = []\n    declared_arguments.append(\n        DeclareLaunchArgument(\n            'robot_description',\n            default_value='[path_to_robot_description]/urdf/robot.urdf',\n            description='Robot description file'\n        )\n    )\n\n    # Robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        output='both',\n        parameters=[{'robot_description': Command(['xacro ', LaunchConfiguration('robot_description')])}],\n    )\n\n    # Spawn entity\n    spawn_entity = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=['-topic', 'robot_description',\n                  '-entity', 'my_robot'],\n        output='screen'\n    )\n\n    return LaunchDescription(declared_arguments + [\n        robot_state_publisher,\n        spawn_entity,\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"sensor-integration",children:"Sensor Integration"}),"\n",(0,a.jsx)(n.h3,{id:"adding-sensors-to-robot",children:"Adding Sensors to Robot"}),"\n",(0,a.jsx)(n.p,{children:"Example of adding a camera sensor to your robot:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<gazebo reference="camera_link">\n  <sensor name="camera" type="camera">\n    <camera>\n      <horizontal_fov>1.047</horizontal_fov>\n      <image>\n        <width>640</width>\n        <height>480</height>\n      </image>\n      <clip>\n        <near>0.1</near>\n        <far>100</far>\n      </clip>\n    </camera>\n    <always_on>1</always_on>\n    <update_rate>30</update_rate>\n    <visualize>true</visualize>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"testing-the-setup",children:"Testing the Setup"}),"\n",(0,a.jsx)(n.h3,{id:"launch-everything",children:"Launch Everything"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start Gazebo with your world:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"gz sim -r worlds/my_world.sdf\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Or use the ROS 2 launch:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_gazebo launch.py\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"verify-integration",children:"Verify Integration"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Check that Gazebo is running:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"gz topic -l\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Verify ROS 2 topics:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 topic list | grep gazebo\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Check TF transforms:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 run tf2_tools view_frames\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Rendering issues"}),": Check graphics drivers and OpenGL support"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Connection problems"}),": Verify Gazebo and ROS 2 network configuration"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Model loading"}),": Ensure all mesh files and materials are properly located"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"performance-tips",children:"Performance Tips"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Reduce physics update rate for better performance"}),"\n",(0,a.jsx)(n.li,{children:"Use simpler collision geometries"}),"\n",(0,a.jsx)(n.li,{children:"Limit the number of active sensors during testing"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"exercise-tasks",children:"Exercise Tasks"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Install Gazebo Garden and ROS 2 integration packages"}),"\n",(0,a.jsx)(n.li,{children:"Create a simple world file with basic objects"}),"\n",(0,a.jsx)(n.li,{children:"Create a launch file to start Gazebo with your world"}),"\n",(0,a.jsx)(n.li,{children:"Add a simple robot model to the simulation"}),"\n",(0,a.jsx)(n.li,{children:"Verify that you can see the robot in Gazebo and ROS 2"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"In this lab, you learned to set up Gazebo for digital twin applications, integrate it with ROS 2, and create basic simulation environments. You now have the foundation for more complex simulation scenarios."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>l});var a=i(6540);const o={},s=a.createContext(o);function r(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);